<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Happy New Year With Yan 0.4</title>
  <meta name="description" content="I am glad to release the Yan 0.4 at the last night of 2009. It's an important release which witnesses the improvement on both code and the project itself. We...">

  <link rel="stylesheet" href="/blog/css/main.css">
  <link rel="canonical" href="http://sunng87.github.io/blog//blog/blog/2010/01/01/happy-new-year-with-yan-0-4/">
  <link rel="alternate" type="application/rss+xml" title="Here comes the Sun" href="http://sunng87.github.io/blog//blog/feed.xml" />
</head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/blog/">Here comes the Sun</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Happy New Year With Yan 0.4</h1>
    <p class="post-meta">Jan 1, 2010</p>
  </header>

  <article class="post-content">
    <p>I am glad to release the Yan 0.4 at the last night of 2009. It's an important release which witnesses the improvement on both code and the project itself. We have great changes in all modules.  Packages have been rearranged and renamed to be more comprehensible. Let's dive into the changeset:
<h3>Changeset</h3>
<ul>
	<li>ApiKey database derby / h2 support, still use hsql as default because it's fastest (#9)</li>
	<li>Captcha provider classes now loaded dynamically on runtime. They are not managed by guice container any longer. (#15)</li>
	<li>The useless cache module was completely removed (#10)</li>
	<li>ApiKey CR<span style="text-decoration: line-through;">U</span>D UI has been replaced by RESTful GET/PUT/DELETE interfaces</li>
	<li>For text-based captcha, just return the question in ticket, no need for (also impossible to)  retrieve it from browser (#8)</li>
	<li>Resource has been separated from the project file (#14 #18)</li>
	<li>Add test to make sure the /ticket and /validate request are sent by the same application (#17)</li>
	<li>Standardized error output: use HTTP error for client(browser), a selected error object for application (#24 #26)</li>
	<li>/captcha/ request (invoked by client directly) now accepts configuration parameters</li>
	<li>ApiKey is now binded to specified domain, it will check the /captcha request's referer (#27)</li>
	<li>NEW captcha provider introduced in: Tiled Image Captcha (#12)</li>
	<li>JMX monitoring support on EhCache (#33)</li>
	<li>a great deal of code improvements and bug-fixes</li>
</ul>
<h3>Interface changes</h3>
The object return by /ticket has its attribute "url" renamed to "data".
<h3>Screenshots</h3>
Use visualvm or jconsole the monitor ehcache status and statistics (enabled in 0.4 by default):</p>

<p><img class="alignnone" src="http://farm5.static.flickr.com/4034/4231348850_db1b877ba8.jpg" alt="" width="500" height="313" /></p>

<p>The new captcha provider in ruby and python sample application (<a href="http://bitbucket.org/sunng/yan/wiki/SampleCode" target="_blank">Sample Code</a>):</p>

<p><img class="alignnone" src="http://farm3.static.flickr.com/2645/4230582459_bf63ce6677.jpg" alt="" width="500" height="313" />
<h3>Download &amp; Deploy</h3>
Since 0.4, yan package are available for download directly. Please refer to the  <a href="http://bitbucket.org/sunng/yan/downloads/" target="_blank">download page</a>, grab both yan-0.4.war and yan-resource.tar.bz2. Just throw the war package to your servlet container.  Then extract the resource package to your disk. Don't forget to set the environment variable:
<em>export YAN_RESOURCE=/path/to/your/resource</em></p>

<p>Start the servlet container in the same context, browser <em>http://localhost:8080/yan-0.4/</em> to see the test page and emulate the captcha process.
<h3>Retrieve the code</h3>
Clone the mercurial repository from bitbucket.org</p>

<p><em>$ hg clone https://sunng@bitbucket.org/sunng/yan/</em></p>

<p>You will get a copy of whole code repository (because mercurial is a distributed version control system). You are on the default branch at the beginning. The default branch maintains the code of 0.4, if you want to see latest things on Yan, switch to the development branch by</p>

<p><em>$ hg update 0.5-dev</em></p>

<p>Yan 0.5 is already on the way.
<h3>Reporting Issue</h3>
Issue reporting and patch submitting are always welcomed. Check the <a href="http://bitbucket.org/sunng/yan/issues/" target="_blank">issue tracker on bitbucket</a>, you will find <a href="http://bitbucket.org/sunng/yan/issues/?kind=proposal&amp;version=0.5" target="_blank">new features</a> in 0.5</p>

<p>Thanks for your support and <img class="alignnone" src="http://farm5.static.flickr.com/4030/4231554900_935d453250_o.png" alt="" width="250" height="40" />!</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Here comes the Sun</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Here comes the Sun</li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>

  </div>

</footer>

  </body>

</html>
