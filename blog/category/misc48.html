<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Here Comes the Sun</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://sunng.info/blog/theme/css/main.css" />
    <link href="https://sunng.info/blog/atom.xml" type="application/atom+xml" rel="alternate" title="Here Comes the Sun Full Atom Feed" />
  </head>

  <body id="index" class="home">
    <div id="page">
      <header id="banner" class="body">
        <h1><a href="https://sunng.info/blog/">Here Comes the Sun <strong></strong></a></h1>
        <nav id="menu">
          <ul>
            <li><a href="https://sunng.info/">About</a></li>
            <li><a href="https://sunng.info/blog/atom.xml">Site Feed</a></li>
          </ul>
        </nav>
      </header><!-- /#banner -->

<section id="content">
<h2>Articles in the misc category</h2>

  <ol id="post-list">
    <li><article class="hentry">
      <header> <h2 class="entry-title"><a href="https://sunng.info/blog/perfomed-my-first-commit-to-openstreetmaporg.html" rel="bookmark" title="Permalink to Perfomed my first commit to OpenStreetMap.org">Perfomed my first commit to OpenStreetMap.org</a></h2> </header>
      <footer class="post-info">

        <abbr class="published" title="2010-06-13T00:00:00+08:00"> Sun 13 June 2010 </abbr>
      </footer><!-- /.post-info -->
      <div class="entry-content"> <ul>
<li>自话
tags:</li>
<li>GIS</li>
<li>map</li>
<li>opensource</li>
<li>OpenStreetMap
published: true
comments: true</li>
</ul>
<hr />
<p><p>每每看到OSM上<a href="http://osm.org/go/5nFq9bhH-">南京的地图</a>都一阵唏嘘，这么多年了几乎没有任何变化，仅有的一些数据也都是错误百出，身为一个南京人，又是一个GIS专业毕业的，深感压力巨大。</p></p>
<p>实际上编辑OSM没有大家想象的那么复杂。任何人都可以注册登录网站，用默认的Potlatch工具进行编辑，即使你手上没有数据也可以编辑一些基本的属性，比如把错误的中山路纠正为北京东路。我从MapMyTracks上导出GPX文件上传到OSM，GPS数据会在OSM上被显示出来，根据这些数据稍作加工就是道路信息了。浏览器里的编辑器功能并不强大，KDE桌面的Merkaator的编辑能力要强大得多，可以对道路进行split/join操作，这些操作对之前南京地图上各种错误的数据非常必要。</p>

<p>其实OpenStreetMap可以借助一些背景图进行数字化，但是在国内，目前只有分辨率非常低Yahoo卫星地图可以用。至于Google的卫星地图，<a href="http://wiki.openstreetmap.org/wiki/FAQ#What_images_and_maps_may_I_use_to_make_maps_from.3F">由于License的原因</a>，你是不能在编辑自由地图时使用的。</p>

<p>上海的OSM已经非常完善，数据完善的程度、渲染出地图的壮观已经让你难以想象，连去年开通的张江电车已经在地图上标出，还有各个站名。注册后可以发现，仅仅在浦东就有十几位OSM的贡献者。相比之下，南京在这方面一片空白，甚至还没有苏州的地图完善。考虑到南京有这么多学校这么多GIS专业学生，每年做那么多无用的、自以为是的数字化作业 ...</p> </div><!-- /.entry-content -->
    </article></li>
    <li><article class="hentry">
      <header> <h2 class="entry-title"><a href="https://sunng.info/blog/rpc-serialization-and-schema.html" rel="bookmark" title="Permalink to RPC, Serialization and Schema">RPC, Serialization and Schema</a></h2> </header>
      <footer class="post-info">

        <abbr class="published" title="2010-06-12T00:00:00+08:00"> Sat 12 June 2010 </abbr>
      </footer><!-- /.post-info -->
      <div class="entry-content"> <ul>
<li>手艺
tags:</li>
<li>java</li>
<li>sergent</li>
<li>work
published: true
comments: true</li>
</ul>
<hr />
<p><p>The post is brought to you by <a href="http://fedorahosted.org/lekhonee">lekhonee</a> v0.7</p></p>
<p>糖果项目的后端用Java编写，我负责service gateway的开发（暂且叫sergent），服务以Java接口+Annotation的形式声明，与Spring集成使用，Java对象被序列化为JSON和XML（通过jackson和castor）与外部系统交互。专门的JSON Schema和XML Schema是可选的，系统交互通过简明的文档和人工确认。</p>

<p>RPC框架是跨进程、跨系统交互的重要工具，RPC框架中又包括远程调用、网络传输和序列化反序列化等等部分。流行的工具包括Facebook的<a href="http://incubator.apache.org/thrift/">thrift</a>，Google的<a href="http://code.google.com/p/protobuf/">Protobuf</a>和原先Hadoop项目下的<a href="http://avro.apache.org/">avro</a>。其中thrift包含远程调用、反序列化、网络等等全部的功能。Protobuf本身是一个序列化反序列化库，另有很多<a href="http://code.google.com/p/protobuf/wiki/ThirdPartyAddOns#RPC_Implementations">第三方RPC实现</a>，avro目前除了序列化和反序列化的功能 ...</p> </div><!-- /.entry-content -->
    </article></li>
    <li><article class="hentry">
      <header> <h2 class="entry-title"><a href="https://sunng.info/blog/ibatis-infinite-loop-when-getfirstresultset.html" rel="bookmark" title="Permalink to ibatis infinite loop when getFirstResultSet">ibatis infinite loop when getFirstResultSet</a></h2> </header>
      <footer class="post-info">

        <abbr class="published" title="2010-06-08T00:00:00+08:00"> Tue 08 June 2010 </abbr>
      </footer><!-- /.post-info -->
      <div class="entry-content"> <ul>
<li>手艺
tags:</li>
<li>ibatis</li>
<li>java
published: true
comments: true</li>
</ul>
<hr />
<p><p>前几天上线后老大发现几台负载非常高，dump线程状态后发现多个线程死循环在同一处，于是发现了ibatis的这个bug：<br />
https://issues.apache.org/jira/browse/IBATIS-384<br />
https://issues.apache.org/jira/browse/IBATIS-587</p></p>
<p>在mysql数据库上，没有结果集时，<em>stmt.getUpdateCount()</em>会返回0，而非-1.<br />
ibatis 2.4.3<br />
[cc lang="java"]<br />
  private ResultSet getFirstResultSet(StatementScope scope, Statement stmt) throws SQLException {<br />
    ResultSet rs = null ...</p> </div><!-- /.entry-content -->
    </article></li>
    <li><article class="hentry">
      <header> <h2 class="entry-title"><a href="https://sunng.info/blog/tsdocomshang-xian.html" rel="bookmark" title="Permalink to t.sdo.com上线">t.sdo.com上线</a></h2> </header>
      <footer class="post-info">

        <abbr class="published" title="2010-06-08T00:00:00+08:00"> Tue 08 June 2010 </abbr>
      </footer><!-- /.post-info -->
      <div class="entry-content"> <ul>
<li>ANN
tags:</li>
<li>snda</li>
<li>work
published: true
comments: true</li>
</ul>
<hr />
<p><p>昨天搞到3点多，盛大糖果<a href="http://t.sdo.com/">http://t.sdo.com/</a>，昨天晚上终于开放IP给大家访问了。</p></p>
<p>留一些邀请码给大家
<ul>
<li>2HlXyYKYz2</li>
<li>2dKoCcQZYV</li>
<li>oHBYhO1JPw</li>
<li>-~YTMDYmN+</li>
<li>IXKYMq0kE@</li>
<li>Ub-C@xk8~r</li>
</ul></p>

<p>我们后端服务从3月初开始正式开发，11个成员，加了三个多月的班。</p> </div><!-- /.entry-content -->
    </article></li>
    <li><article class="hentry">
      <header> <h2 class="entry-title"><a href="https://sunng.info/blog/pythonhuo-qu-ben-ji-ip.html" rel="bookmark" title="Permalink to Python获取本机IP">Python获取本机IP</a></h2> </header>
      <footer class="post-info">

        <abbr class="published" title="2010-06-05T00:00:00+08:00"> Sat 05 June 2010 </abbr>
      </footer><!-- /.post-info -->
      <div class="entry-content"> <ul>
<li>把戏
tags:</li>
<li>linux</li>
<li>python
published: true
comments: true</li>
</ul>
<hr />
<p><p>除了用<a href="http://alastairs-place.net/netifaces/">inetface</a>库和分析ifconfig输出以外，一个比较简单的获取本机IP的方法：<br />
[cc lang="python"]<br />
import socket<br />
def get_local_ip():<br />
    s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)<br />
    s.connect(("sdo.com",80))<br />
    return s.getsockname()[0]<br />
[/cc]</p></p>
<p>参考 http://stackoverflow.com/questions/166506/finding-local-ip-addresses-in-python</p> </div><!-- /.entry-content -->
    </article></li>
  </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="https://sunng.info/blog/category/misc47.html">&laquo;</a>
    Page 48 / 78
        <a href="https://sunng.info/blog/category/misc49.html">&raquo;</a>
</p>
</section><!-- /#content -->

      <footer id="contentinfo" class="body">
        <address id="about" class="vcard body">
          <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>. </p>
          <p>The theme is called <i>gotham</i>, created by myself on G17 Train Beijing-Nanjing, 2016 Apr 1st.</p>
        </address><!-- /#about -->
      </footer><!-- /#contentinfo -->
    </div>

  </body>
</html>