
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>车水马龙</title>
  <meta name="author" content="Sun Ning">

  
  <meta name="description" content="还是关于spark的，一石激起千层浪，每个人心中都有一个spark。其实spark脚本刚出来的时候问题很多，但是就是因为产生了共鸣，众人拾柴pull request多。像redis的作者antirez也忍不住自己用c写了一个aspark。 说完了别人的，那么来看看我的：clspark，common &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sunng87.github.io/blog//blog/page/7">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="车水马龙" type="application/atom+xml">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">车水马龙</a></h1>
  
    <h2>here comes the sun</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sunng87.github.io/blog/" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/11/19/spark-in-common-lisp/">Spark in Common Lisp</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-19T00:00:00+08:00" pubdate data-updated="true">Nov 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>还是关于spark的，一石激起千层浪，每个人心中都有一个spark。其实spark脚本刚出来的时候问题很多，但是就是因为产生了共鸣，众人拾柴pull request多。像redis的作者antirez也忍不住自己用c写了一个<a href="https://github.com/antirez/aspark" target="_blank">aspark</a>。</p>

<p>说完了别人的，那么来看看我的：clspark，common-lisp的spark。原本是打算用clojure写，但是想到jvm的启动速度，把这个机会留给我的第一个common lisp程序吧。</p>

<p><img src="http://i.imgur.com/oD7m4.png" alt="" /></p>

<p>其实很简单。
<script src="https://gist.github.com/1375401.js"> </script></p>

<p>common lisp的核心库里没有split，所以这里从cl-cookbook拷贝了一个split的实现，坦白说我还看不太懂这个loop的写法。loop是common lisp中最尴尬的form，因为他的形式太多。这点在clojure中是不存在的。比较一下就能发现，在语言层面，clojure是相对现代得多的lisp方言。
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/11/16/my-response-to-spark-visualize-your-mercurial-commit-history-from-commandline/">My Response to Spark: Visualize Your Mercurial Commit History From Commandline</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-16T00:00:00+08:00" pubdate data-updated="true">Nov 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>标题长了些。还是用母语吧。</p>

<p>昨天HackerNews上一个<a href="http://news.ycombinator.com/item?id=3237478" target="_blank">小脚本</a>轰动了，所谓山不在高程序不在小。为了响应这个小脚本，我写了一个更加简单的Mercurial(hg)扩展，帮助你输出hg仓库的提交历史。这个feature和github的直方图有点像，在我看来github的直方图是他们最重要的feature之一，它鞭策着你不断地commit。</p>

<p><img src="http://i.imgur.com/ZcEfH.png" alt="hg summary" /></p>

<p><script src="https://gist.github.com/1366606.js"> </script></p>

<p>安装:将这个脚本放在任意一处，在你的hgrc中添加：<br />
[cc lang=&#8221;text&#8221;]<br />
[extensions]<br />
summary = /path/to/your/script<br />
[/cc]</p>

<p>由于很简单，就不按照mercurial的规范发布了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/11/04/%E5%86%8D%E8%A7%812011%E8%B5%9B%E5%AD%A3/">再见2011赛季</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-04T00:00:00+08:00" pubdate data-updated="true">Nov 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>虽然还有两个月才能结束这个2011年，但是舜天队的赛季已经结束了。经过大半年的鏖战，大起大落之后，最终球队取得了史无前例的第四名，这让我们看了十多年次级联赛的球迷一时间几乎无法接受。今年赶在联赛开始前我换工作回到南京，去主场的机会也比以前上学或是在外地时多了很多，最终今年一共看了6个主场，是看球16年以来最多的一年。当然不出意外明年还要刷新这个纪录！</p>

<p>周三下午请假去球场目送了一下球队。距离明年开赛还有5个月，有一些球员可能转会，有的退役，所以每到最后一轮都是伤离别的时候。只是往年，这个时候都是夕阳西下，三三两两的观众看完无关紧要的比赛鸟兽散去；而今年的最后一轮，我们还为了理论上的一个亚冠机会争取。</p>

<p>2009年加入球队，2011年学习回来后，杨晨是舜天队的领队兼助理教练。在比赛开始前，作为助理教练要带领队员作热身活动。
<a href="http://www.flickr.com/photos/40741608@N08/6305940310/" title="resized-DSC_0017 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6059/6305940310_4497b80191.jpg" width="500" height="335" alt="resized-DSC_0017" /></a></p>

<p>队员训练。
<a href="http://www.flickr.com/photos/40741608@N08/6305939050/" title="resized-DSC_0011 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6102/6305939050_01fa72bf36.jpg" width="500" height="335" alt="resized-DSC_0011" /></a>
前面两位是去年从降级的长沙金德转投而来的刘建业和任航，刘建业现在也是队里唯一的国脚。两人转会过来以后一直是球队的主力。刘建业负责中场的拦截防守；任航是边后卫，可以胜任左右两边，攻防俱佳。<br />
跟在后面的时候杜文辉和李炽。杜文辉上赛季结束后被国安队清洗，自由转会来到舜天本来希望通过更多的出场机会能获得国家队的席位，结果不料第四轮就重伤缺席了后面的比赛。复出后球队已经更换了教练，不过杜文辉还是舜天队里技术顶尖的球员，经历了一番周折到了赛季末他还是占据了主力的位置。后面李炽是队龄最大的队员之一，2005年从广东来到江苏，伴随球队度过了最艰难的05、06、07年。升级之后，李炽一直在主力和替补之间徘徊，不过最后总能通过努力获得首发的机会。今年李炽合同到期，据说一条微博还让很多球迷以为下赛季他会回到广东，为此，有了这么一条横幅：
<a href="http://www.flickr.com/photos/40741608@N08/6305965870/" title="resized-DSC_0057 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6112/6305965870_54acc94e94.jpg" width="500" height="335" alt="resized-DSC_0057" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6305417351/" title="resized-DSC_0035 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6119/6305417351_604711e9d3.jpg" width="500" height="335" alt="resized-DSC_0035" /></a>
中间的9号陆博飞是球队的队长，在球场上的角色有点类似皮尔洛。今年陆队已经32岁了，不过据他昨天在广播里说他的状态还可以再踢两年。20号孙可是队里唯一一个能打上主力的由舜天梯队培养出来的队员，今年孙可也经历了最重要的一个赛季，基本上完成了从替补到主力的转换，在比赛中的作用也越来越重要。</p>

<p>罗马尼亚人达纳拉赫，这位仁兄上半赛季经历了漫长的进球荒，如果不是在场上特别积极，恐怕早就收拾东西走人了。好在从对陕西开和之后，状态越来越好，最终打进13球，在射手榜上排到了第三。
<a href="http://www.flickr.com/photos/40741608@N08/6305413781/" title="resized-DSC_0002 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6221/6305413781_52b509b2ff.jpg" width="335" height="500" alt="resized-DSC_0002" /></a></p>

<p>达纳拉赫的诡异爆发得益于身边空降了一名优秀的同伴，塞尔维亚红星队的耶夫迪奇夏季转会来到球队，是球队历史上身价最高的球员（140万美元）。身价在总体上当然还是和能力成正比的，耶夫迪奇半个赛季就打进11个球，是球队在场上最重要的球员。
<a href="http://www.flickr.com/photos/40741608@N08/6305414451/" title="resized-DSC_0005 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6048/6305414451_091646b612.jpg" width="335" height="500" alt="resized-DSC_0005" /></a></p>

<p>后防线上，两个外援塔基耶夫（左）和埃雷尔森（右）。前者是乌兹别克国脚，他的哥哥和弟弟都曾经在天津泰达踢球。后者是球队的老面孔，埃雷尔森从09年就加入球队，一直是后防线上的定海神针，今年也是联赛中的最佳后卫。
<a href="http://www.flickr.com/photos/40741608@N08/6305445957/" title="resized-DSC_0097 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6056/6305445957_78408799d4.jpg" width="335" height="500" alt="resized-DSC_0097" /></a></p>

<p>守门员邓小飞也是09年加入球队，前半赛季一直是替补，后来成为主力之后发挥一直很出色，也是球队后半赛季辉煌的功臣。
<a href="http://www.flickr.com/photos/40741608@N08/6305939562/" title="resized-DSC_0013 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6120/6305939562_29166f6ca4.jpg" width="500" height="335" alt="resized-DSC_0013" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6305943262/" title="resized-DSC_0050 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6056/6305943262_28b08f9c4e.jpg" width="500" height="335" alt="resized-DSC_0050" /></a>
替补席上的秘鲁外援略显落寞，因为在球队没有位置明年他将是唯一一名离队的外援，所以也有球迷专门给他感谢
<a href="http://www.flickr.com/photos/40741608@N08/6305440759/" title="resized-DSC_0054 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6045/6305440759_dbc9cdef90.jpg" width="500" height="335" alt="resized-DSC_0054" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6305441949/" title="resized-DSC_0066 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6220/6305441949_1b27db51ee.jpg" width="500" height="335" alt="resized-DSC_0066" /></a>
<a href="http://www.flickr.com/photos/40741608@N08/6305967488/" title="resized-DSC_0071 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6038/6305967488_acaf5953e0.jpg" width="500" height="335" alt="resized-DSC_0071" /></a>
<a href="http://www.flickr.com/photos/40741608@N08/6305966894/" title="resized-DSC_0067 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6054/6305966894_b9c252503e.jpg" width="500" height="335" alt="resized-DSC_0067" /></a>
<a href="http://www.flickr.com/photos/40741608@N08/6305444653/" title="resized-DSC_0086 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6223/6305444653_dcae78f290.jpg" width="500" height="335" alt="resized-DSC_0086" /></a>
<a href="http://www.flickr.com/photos/40741608@N08/6305446603/" title="resized-DSC_0099 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6220/6305446603_d947877f41.jpg" width="335" height="500" alt="resized-DSC_0099" /></a>
<a href="http://www.flickr.com/photos/40741608@N08/6305444149/" title="resized-DSC_0079 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6099/6305444149_d4f47a20f9.jpg" width="500" height="335" alt="resized-DSC_0079" /></a>
比赛最终没有什么悬念地结束，虽然球队没有获得亚冠的名额，不过今年的成绩已经是18年历史上最佳排名。
<a href="http://www.flickr.com/photos/40741608@N08/6305971668/" title="resized-DSC_0105 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6049/6305971668_046a4e5e6b.jpg" width="500" height="335" alt="resized-DSC_0105" /></a>
球迷聚在场外放完烟火，约定明年再战！
<a href="http://www.flickr.com/photos/40741608@N08/6305447755/" title="resized-DSC_0127 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6091/6305447755_90a5a74ebb.jpg" width="500" height="335" alt="resized-DSC_0127" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/11/01/lein-control-0-2-1-is-out/">Lein-control 0.2.1 Is Out</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-01T00:00:00+08:00" pubdate data-updated="true">Nov 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have updated the leiningen plugin for <a href="https://github.com/killme2008/clojure-control" target="_blank">clojure-control</a> 0.2.1. There is no new feature for it as a plugin. But some new features from upstream are supported and should be highlighted:</p>

<p><h3>SSH command DSL</h3>
This feature is committed by me and first announced in clojure-control 0.2.1. With this DSL, you can write your SSH command with some predefined macros which is more readable and enjoyable.</p>

<p>For example, an ssh task can be defined as:<br />
[cc lang=&#8221;clojure&#8221;]<br />
   (deftask :restart-server &#8220;restart your jetty server&#8221;<br />
          []<br />
          (ssh (cd &#8220;/opt/jetty/bin&#8221;<br />
                 (run &#8220;./jetty.sh restart&#8221;))))<br />
[/cc]</p>

<p>which equals to :<br />
[cc lang=&#8221;clojure&#8221;]<br />
   (deftask :restart-server &#8220;restart your jetty server&#8221;<br />
          []<br />
          (ssh &#8220;cd /opt/jetty/bin; ./jetty/sh restart&#8221;))<br />
[/cc]</p>

<p>For full document of this DSL, please check the <a href="https://github.com/killme2008/clojure-control/blob/master/README.md" target="_blank">README</a>.</p>

<p><h3>Improved syntax for defcluster</h3>
ssh/scp/rsync options in defcluster could be written as a vector:<br />
[cc lang=&#8221;clojure&#8221;]<br />
(defcluster :mycluster<br />
  :ssh-options &#8220;-p 44&#8221;<br />
  :scp-options &#8220;-v&#8221;<br />
  :rsync-options [&#8220;-arz&#8221; &#8220;&#8211;delete&#8221;]<br />
  :clients [<br />
    { :host &#8220;c.domain.com&#8221; :user &#8220;clogin&#8221; :ssh-options &#8220;-v -p 43&#8221;}<br />
  ]<br />
  :user &#8220;login&#8221;<br />
  :addresses [&#8220;a.domain.com&#8221; &#8220;b.domain.com&#8221;])[/cc]<br />
(code quote from official announcement)</p>

<p><h3>Parallel support</h3>
Tasks could be executed in parallel if you add option <code>:parallel true</code> on defcluster.</p>

<p>Finally, to use this plugin, add dev-dependency to your project.clj:<br />
[cc lang=&#8221;clojure&#8221;]<br />
        :dev-dependencies [[lein-control &#8220;0.2.1&#8221;]]<br />
[/cc]<br />
More detailed instructions could be found <a href="https://github.com/sunng87/lein-control/blob/master/README" target="_blank">here</a>.</p>

<p>BTW, this is the last release of lein-control as a standalone artifact. I will be working on merging lein-control into clojure-control. Soon you will have a few flexible ways to use clojure-control.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/30/clojalk-scm-visualization/">Clojalk SCM Visualization</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-30T00:00:00+08:00" pubdate data-updated="true">Oct 30<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近有一个小工具非常流行（如果我没有火星的话），<a href="http://code.google.com/p/gource/" target="_blank">gource</a>，可以将你的代码历史可视化出来。<a href="http://www.youtube.com/watch?v=ELSsGXGHfZM" target="_blank">这里</a>有reddit的代码历史，fogus也把写the joy of clojure做成了<a href="http://blog.fogus.me/2011/10/27/joy-of-clojure-the-movie/" target="_blank">这样</a>的视频。</p>

<p>凑个热闹，来看看我的<a href="https://github.com/sunng87/clojalk">clojalk</a>项目可视化
<embed src="http://player.youku.com/player.php/sid/XMzE3NzU4NjE2/v.swf" quality="high" width="480" height="400" align="middle" allowscriptaccess="sameDomain" allowfullscreen="true" type="application/x-shockwave-flash"></embed>
And the video link on <a href="http://vimeo.com/31328528" target="_blank">vimeo</a>.</p>

<p>除了一名contributor，只有一个commiter。又是一幕Forever alone。
<img src="http://i.imgur.com/FXcNw.png" alt="forever alone" /></p>

<p>PS：<br />
gource上的wiki里，ffmpeg如果报错File for preset &#8216;slow&#8217; not found的话，去掉ffmpeg的-vpre slow就OK了。
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/27/visualize-reddit-upvotes-by-subreddit/">Visualize Reddit Upvotes by Subreddit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-27T00:00:00+08:00" pubdate data-updated="true">Oct 27<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这是我reddit上所有的upvote在各个subreddit上的分布情况，这个情况还是可以说明我是个普通青年。
<img src="http://i.imgur.com/jfXyK.png" alt="Reddit upvotes visualization" width="500px" /></p>

<p>排在前几位的分别是
<ul>
	<li>Programming</li>
	<li>Linux</li>
	<li>Python</li>
	<li>f7u12</li>
	<li>Clojure</li>
	<li>Ubuntu</li>
</ul></p>

<p>如果你还不了解什么是Reddit：Reddit是一个巨大的社会书签+论坛网站，他的频道叫做subreddit，每个频道有一个相应的主题，涵盖了从IT技术到新闻到生活的各个角落。</p>

<p>这些数据是通过下面的Clojure程序获得（使用reddit.clj库），并通过jfreechart展现出来的。
<script src="https://gist.github.com/1315572.js"> </script>
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/26/%E6%99%AE%E9%80%9A%E9%9D%92%E5%B9%B4%E3%80%81%E4%BA%8C%E9%80%BC%E9%9D%92%E5%B9%B4%E4%B8%8E%E6%96%87%E8%89%BA%E9%9D%92%E5%B9%B4%E7%9A%84java%E4%BB%A3%E7%A0%81%E7%BC%A9%E8%BF%9B/">普通青年、二逼青年与文艺青年的Java代码缩进</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-26T00:00:00+08:00" pubdate data-updated="true">Oct 26<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>普通青年</p>

<p>[cc lang=&#8221;java&#8221;]<br />
while(true) {<br />
    if (something) {<br />
        System.out.println(something);<br />
        break;<br />
    }<br />
}
[/cc]<br />
特点： tab与空格混用，无其他特点。<br />
常见于：各类代码仓库。</p>

<p>二逼青年</p>

<p>[cc lang=&#8221;java&#8221;]<br />
while(true) <br />
{</p>

<p>    if (something) <br />
    {<br />
        System.out.println(something);<br />
        break;<br />
    }</p>

<p>}<br />
[/cc]<br />
特点：总担心代码不够长<br />
见于：各类劣质技术书籍</p>

<p>文艺青年<br />
[cc lang=&#8221;java&#8221;]<br />
while(true) <br />
  {<br />
  if (something) <br />
    {<br />
      System.out.println(something);<br />
      break;<br />
    }<br />
  }<br />
[/cc]<br />
特点：普通Java青年永远不会理解的缩进，lisp程序员会心一笑<br />
见于：Clojure源码
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/21/substract-a-vector-from-a-matrix-in-octave/">Substract a Vector From a Matrix in Octave</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-21T00:00:00+08:00" pubdate data-updated="true">Oct 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>假设你有一个矩阵：</p>

<p>[cc lang=&#8221;text&#8221;]<br />
A = [1,2;3,4;5,6]<br />
[/cc]</p>

<p>以及一个矢量：</p>

<p>[cc lang=&#8221;text&#8221;]<br />
B = [2,5]<br />
[/cc]</p>

<p>你希望对A的每一行元素对元素地减B，例如第一行<br />
[cc lang=&#8221;text&#8221;]<br />
[1-2,2-5]<br />
[/cc]</p>

<p>但你不希望用循环完成这个工作，那么你可能想到利用B创建一个和A一样维度的矩阵然后进行.-：<br />
[cc lang=&#8221;text&#8221;]<br />
C = [2,5;2,5;2,5]<br />
A .- C<br />
[/cc]</p>

<p>在Octave中可以利用repmat这个函数获得C：<br />
[cc lang=&#8221;text&#8221;]<br />
C = repmat(B, length(A), 1)<br />
[/cc]<br />
但是对于大矩阵来说这是一种对内存的浪费。</p>

<p>更好的方法是利用bsxfun：<br />
[cc lang=&#8221;text&#8221;]<br />
bsxfun(@minus, A, B)<br />
[/cc]</p>

<p>bsxfun在octave的文档中似乎鲜有提及。
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/20/%E4%B8%BD%E6%B0%B4%E7%95%99%E5%BD%B1/">丽水留影</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-20T00:00:00+08:00" pubdate data-updated="true">Oct 20<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这周去丽水参加大学同学的婚礼，浙江南部又是另一番不同的景色。而且这一带没有过度的旅游开发，也没有工业污染，青山绿水完完全全的原生态。要是度假真是不错的选择，何况这里还有认识的同学。</p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6263288831/" title="resized-DSC_0126 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6156/6263288831_8574bd5c3d.jpg" width="335" height="500" alt="resized-DSC_0126" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6263288835/" title="resized-DSC_0129 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6098/6263288835_c5711ec5f1.jpg" width="335" height="500" alt="resized-DSC_0129" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6263288841/" title="resized-DSC_0245 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6179/6263288841_3bf7e7f3e5.jpg" width="335" height="500" alt="resized-DSC_0245" /></a></p>

<p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/15/grails%E7%9A%84%E6%A0%B8%E5%BF%83%E4%BE%9D%E8%B5%96%E5%BF%85%E9%A1%BB%E4%BF%9D%E8%AF%81%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%89%88%E6%9C%AC%E4%B8%80%E8%87%B4%EF%BC%81/">Grails的核心依赖必须保证项目中版本一致！</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-15T00:00:00+08:00" pubdate data-updated="true">Oct 15<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>好久没写语录式大标题了，实在是今天玩Grails受害很深很深。</p>

<p>Grails因为本身是通过ivy来管理依赖的，虽然后续的版本和maven的集成不断加深，但是本身还是通过ivy来解析pom.xml。也就是说最后的活还是ivy干的。如果你的项目比较大，选择了通过maven来管理项目，而你的依赖中又牵扯了很多其他的依赖，那么你危险了。</p>

<p><blockquote>:: UNRESOLVED DEPENDENCIES ::</blockquote></p>

<p>:: log4j#log4j;1.2.16: configuration not found in log4j#log4j;1.2.16: &#8216;master&#8217;. It was required from &#8230;;1.7.0 runtime</p>

<p>对maven用户这是一条多么发指的报错！（比如<a href="http://forum.springsource.org/showthread.php?104033-Can-not-load-a-log4J-library" target="_blank">这个</a>）</p>

<p>它的原因其实是你的dependency中有!=1.2.16版本你的log4j，比如1.2.12，即使你在pom里将它添加到了exclusion中也没有用，必须要保持版本的一致！至于你用什么办法让他们保持一致，还是干脆放弃用maven管理你的grails项目：It&#8217;s up to you.</p>

<p>同样的问题还出现在其他核心依赖上，例如commons-pool。
</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/blog/2013/07/05/grunt-for-requirejs-projects/">Grunt for Requirejs Projects</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/06/29/%E7%BB%99-raspberry-pi-%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%98%BE%E7%A4%BA-ip-%E7%9A%84%E6%B6%B2%E6%99%B6%E5%B1%8F/">给 Raspberry Pi 添加一个显示 IP 的液晶屏</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/06/07/%E7%BA%B8%E4%B8%8A%E5%BE%97%E6%9D%A5%E7%BB%88%E8%A7%89%E6%B5%85/">纸上得来终觉浅</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/04/24/checkout-ring-adapter-for-jetty-9/">Checkout Ring Adapter for Jetty 9</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/04/12/ann-handlebars-clojure-api/">[ANN] Handlebars Clojure API</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sunng87">@sunng87</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sunng87',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/blog/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/classicing?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/classicing">My Delicious Bookmarks &raquo;</a></p>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Sun Ning -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sunng-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
