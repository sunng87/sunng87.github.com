
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>车水马龙</title>
  <meta name="author" content="Sun Ning">

  
  <meta name="description" content="You say yes, I say no
You say stop and I say go, go, go
Oh, no
You say goodbye and I say hello world [cc lang=&#8221;C&#8221;]
#include int main(){ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sunng87.github.io/blog//blog/page/8">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="车水马龙" type="application/atom+xml">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">车水马龙</a></h1>
  
    <h2>here comes the sun</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sunng87.github.io/blog/" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/13/you-say-goodbye-and-i-say-hello/">You Say Goodbye and I Say Hello.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-13T00:00:00+08:00" pubdate data-updated="true">Oct 13<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><iframe width="560" height="315" src="http://www.youtube.com/embed/HBZ8ulc5NTg" frameborder="0" allowfullscreen></iframe></p>

<p>You say yes, I say no<br />
You say stop and I say go, go, go<br />
Oh, no<br />
You say goodbye and I say <strong>hello world</strong></p>

<p><img src="http://www.lysator.liu.se/c/dmr/dmr.gif" alt="Dennis Ritchie" /></p>

<p><img src="http://www.globalnerdy.com/wordpress/wp-content/uploads/2008/09/the_c_programming_language.jpg" alt="the C programming language" /></p>

<p>[cc lang=&#8221;C&#8221;]<br />
#include<stdio.h /></p>

<p>int main(){<br />
    printf(&#8220;Dennis Ritchie, %d-%d\n&#8221;, 1941, 2011);<br />
    return 0;<br />
}
[/cc]</p>

<p>RIP.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/12/voting-with-your-reddit-account-on-rageviewer/">Voting With Your Reddit Account on RageViewer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-12T00:00:00+08:00" pubdate data-updated="true">Oct 12<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just implemented a new feature on <a href="http://rageviewer.cloudfoundry.com/index.html" title="rage viewer" target="_blank">RageViewer</a> which has been requested for a long time. Now you can login with your Reddit account and up-vote/down-vote rages without turning to Reddit website.</p>

<p>Again, I made a rage comic for this feature.
<img src="http://i.imgur.com/Zg9TU.jpg" alt="voting rage" /></p>

<p>To be able to vote items with your Reddit account, a Reddit session is maintained in the memory of RageViewer. Rage Viewer is a pure open source software so it will never store or log your password in any form. You can verify the source code on <a href="https://github.com/sunng87/rageviewer">github</a> if you have concern about the privacy. (Currently, Reddit doesn&#8217;t offer any authorization like OAuth so we can only access your reddit account with your password. Sorry for that.)</p>

<p>For those still have no idea about RageViewer. RageViewer is for browsing rage comics smoothly. It loads most recent comics from <a href="http://www.reddit.com/r/fffffffuuuuuuuuuuuu/" target="_blank">fffffffuuuuuuuuuuuu</a> and some other subreddits into the database. It gives you a modern and clean UI for your best experience.</p>

<p>Also important, RageViewer is a full-stack clojure web application that written in the JVM functional language: Clojure(server-side) and ClojureScript(broser-side).</p>

<p>BTW, a new version of Reddit.clj (0.3.0) is available in clojars repository. (the new RageViewer is also based on it). In 0.3.0, reddit.clj is compatible with Clojure 1.3.0. And a &#8220;enhance&#8221; function is removed that you are no long required to &#8220;enhance&#8221; a reddit client before you write data to Reddit. Now you have read-write permission once you create the client with reddit.clj.core/login .</p>

<p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/10/the-distribution-of-intelligence/">The Distribution of Intelligence</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-10T00:00:00+08:00" pubdate data-updated="true">Oct 10<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This could be a big title for the content.</p>

<p>I just work out a heat map based on <a href="http://maps.google.com/maps/ms?ie=UTF&msa=0&msid=203716810039202316490.0004aeb1b1a01b1d3b9af" target="_blank">the data</a> of users who enrolled online courses offered by Stanford.</p>

<p><a href="http://imgur.com/rWUkH"><img src="http://i.imgur.com/rWUkH.png" width="500" alt="" title="Hosted by imgur.com" /></a>
(Click to enlarge)</p>

<p>I think you already have your ideas about this map. New England, California and Central Europe has higher density than any other area of the world. Also you can find some light in South America, East Coast Australia, India and China. I think this could be an overview of how intelligence distributed around the globe.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/06/%E5%B1%B1%E6%B0%B4%E5%9F%8E%E6%9E%97/">山水城林夕阳晚景</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-06T00:00:00+08:00" pubdate data-updated="true">Oct 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.flickr.com/photos/40741608@N08/6214194078/" title="resized-DSC_0004.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6032/6214194078_164b4fd0d6.jpg" width="335" height="500" alt="resized-DSC_0004.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214193770/" title="resized-DSC_0003.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6115/6214193770_2f83cac6dc.jpg" width="500" height="335" alt="resized-DSC_0003.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6213680807/" title="resized-DSC_0005.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6235/6213680807_6290a29d96.jpg" width="335" height="500" alt="resized-DSC_0005.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214194920/" title="resized-DSC_0007.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6165/6214194920_d84ba70a3d.jpg" width="335" height="500" alt="resized-DSC_0007.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214195222/" title="resized-DSC_0010.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6112/6214195222_cf60cbdd63.jpg" width="335" height="500" alt="resized-DSC_0010.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214195508/" title="resized-DSC_0021.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6112/6214195508_f073ea481a.jpg" width="335" height="500" alt="resized-DSC_0021.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214195812/" title="resized-DSC_0030.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6154/6214195812_82cabd03ae.jpg" width="500" height="335" alt="resized-DSC_0030.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6213682553/" title="resized-DSC_0032.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6169/6213682553_9f5999f6a1.jpg" width="500" height="335" alt="resized-DSC_0032.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6213682811/" title="resized-DSC_0034.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6108/6213682811_4b7ac16f72.jpg" width="500" height="335" alt="resized-DSC_0034.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214196954/" title="resized-DSC_0035.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6095/6214196954_45e5bb7384.jpg" width="500" height="335" alt="resized-DSC_0035.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6214197296/" title="resized-DSC_0038.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6151/6214197296_376fe786ca.jpg" width="335" height="500" alt="resized-DSC_0038.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6213684031/" title="resized-DSC_0044.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6151/6213684031_397a26197f.jpg" width="335" height="500" alt="resized-DSC_0044.JPG" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6213684287/" title="resized-DSC_0049.JPG by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6101/6213684287_fab9ed2a1a.jpg" width="500" height="335" alt="resized-DSC_0049.JPG" /></a></p>

<p>南京玄武湖台城。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/05/gps%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E4%B8%8Eopenstreetmap%E7%BC%96%E8%BE%91/">GPS数据采集与OpenStreetMap编辑</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-05T00:00:00+08:00" pubdate data-updated="true">Oct 5<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>简单介绍一下通过GPS采集道路数据并上传到OpenStreetMap的流程。</p>

<p><h3>采集</h3>
首先你需要一个GPS数据记录器，或者叫做GPS Logger。这类产品在淘宝上可以找到很多，台湾的长天(HOLUX)是相对价廉物美的品牌。我的设备是HOLUX m1000c，下文以此为例。</p>

<p>m1000c的使用非常简单。开机之后，指示GPS的黄灯点亮，设备开始搜索GPS卫星。根据你所出的位置、遮挡情况以及天气情况，搜星的时间略有不同。当GPS黄灯开始闪烁时Logger即开始记录数据，默认情况下m1000c每隔5秒记录一次数据。每次重启后，Logger都会新开一条记录。</p>

<p><h3>导入</h3>
对Windows用户，将Logger通过USB线与电脑连接后，可以利用随机附带的软件将数据导入为GPX格式。对Linux用户，可以利用<a href="http://www.gpsbabel.org/" target="_blank">gpsbabel</a>导入数据：
<em>gpsbabel -t -i m241 -f /dev/ttyACM0 -o gpx -F myfile.gpx</em></p>

<p>其中：
<ul>
	<li>-t 表示数据为track类型</li>
	<li>-i m241 输入格式为HOLUX m241，m1000c使用的是这种格式</li>
	<li>-f /dev/ttyACM0 输入设备是/dev/ttyACM0</li>
	<li>-o gpx 输出格式是gpx</li>
	<li>-F 输出文件myfile.gpx</li>
</ul></p>

<p>在一些发行版上，需要root权限访问/dev/ttyACM0，所以不要忘记将输出的文件chown给普通用户。</p>

<p>导入完成后可以利用下面的命令清空Logger
<em>gpsbabel -i m241,erase_only=1 -f /dev/ttyACM0</em></p>

<p>在Windows和Linux上都可以使用<a href="http://sourceforge.net/apps/mediawiki/viking/index.php?title=Main_Page" target="_blank">Viking</a>查看导入的数据：
<ul>
	<li>启动viking</li>
	<li>添加一个OSM地图图层： Layers->New Map Layer</li>
	<li>导入GPX数据： File->Append File&#8230;</li>
	<li>下载OSM地图，右键点击左侧的Map图层，Download Missing Onscreen Maps</li>
</ul></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6213079184/" title="Screenshot at 2011-10-05 09:45:20 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6103/6213079184_f653ca2ca6.jpg" width="500" height="387" alt="Screenshot at 2011-10-05 09:45:20" /></a></p>

<p><h3>编辑</h3>
Windows和Linux用户都可以通过<a href="http://merkaartor.be/" target="_blank">Merkaartor</a>编辑OSM数据。</p>

<p>启动Merkaartor，导入GPS数据： File->Import。<br />
选择左侧的GPS图层，对需要导入的数据，右键点击Extract Drawing Layer将GPS转换为可编辑数据。
<a href="http://www.flickr.com/photos/40741608@N08/6213247680/" title="Screenshot at 2011-10-05 10:57:17 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6167/6213247680_046e360c63.jpg" width="500" height="303" alt="Screenshot at 2011-10-05 10:57:17" /></a></p>

<p>根据实际情况编辑道路数据的属性。对GPS转换的数据，选择菜单Feature->Force Upload，将其加入dirty set准备上传。点击Upload即可将数据上传到OpenStreetMap。</p>

<p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/04/%E6%B8%B8%E6%B5%99%E6%B1%9F%E5%8F%A4%E9%95%87/">游浙江古镇</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-04T00:00:00+08:00" pubdate data-updated="true">Oct 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这居然是我第一次踏上浙江的土地。</p>

<p>浙江西塘，是个人很多车也很多的地方，油炸臭豆腐烤肉串更多的地方。
<a href="http://www.flickr.com/photos/40741608@N08/6211015162/" title="resized-DSC_0005 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6074/6211015162_020eab7ba0.jpg" width="500" height="335" alt="resized-DSC_0005" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210481747/" title="resized-DSC_0009 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6091/6210481747_7c06f7b887.jpg" width="500" height="335" alt="resized-DSC_0009" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210482047/" title="resized-DSC_0016 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6049/6210482047_fc42431fa8.jpg" width="500" height="335" alt="resized-DSC_0016" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210482559/" title="resized-DSC_0023 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6207/6210482559_2be2f0ddaa.jpg" width="500" height="335" alt="resized-DSC_0023" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210994852/" title="resized-DSC_0026 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6217/6210994852_d425d1267a.jpg" width="335" height="500" alt="resized-DSC_0026" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210995314/" title="resized-DSC_0029 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6041/6210995314_c4b00f5501.jpg" width="335" height="500" alt="resized-DSC_0029" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210995528/" title="resized-DSC_0038 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6236/6210995528_f667a61b76.jpg" width="500" height="335" alt="resized-DSC_0038" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210604611/" title="DSC_0047 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6034/6210604611_ba3142ca63.jpg" width="335" height="500" alt="DSC_0047" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210995836/" title="resized-DSC_0039 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6184/6210995836_5ae720e69f.jpg" width="335" height="500" alt="resized-DSC_0039" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210996338/" title="resized-DSC_0063 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6106/6210996338_62639caf34.jpg" width="500" height="335" alt="resized-DSC_0063" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210996674/" title="resized-DSC_0066 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6155/6210996674_75389558d8.jpg" width="335" height="500" alt="resized-DSC_0066" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210485223/" title="resized-DSC_0071 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6107/6210485223_230baf13b5.jpg" width="500" height="335" alt="resized-DSC_0071" /></a></p>

<p>浙江乌镇是一个人更多车更多，但是没有油炸臭豆腐烤肉串而只有红烧羊肉的地方。
<a href="http://www.flickr.com/photos/40741608@N08/6211081358/" title="DSC_0148 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6237/6211081358_a4e67f9962.jpg" width="500" height="335" alt="DSC_0148" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6211017762/" title="resized-DSC_0075 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6163/6211017762_d21f239276.jpg" width="335" height="500" alt="resized-DSC_0075" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6211018872/" title="resized-DSC_0097 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6064/6211018872_50a273be0f.jpg" width="335" height="500" alt="resized-DSC_0097" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210503729/" title="resized-DSC_0088 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6229/6210503729_b5f2976c81.jpg" width="335" height="500" alt="resized-DSC_0088" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6211018500/" title="resized-DSC_0102 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6213/6211018500_e86613b631.jpg" width="336" height="500" alt="resized-DSC_0102" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210504015/" title="resized-DSC_0119 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6120/6210504015_33d54a3c1e.jpg" width="335" height="500" alt="resized-DSC_0119" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6211016652/" title="resized-DSC_0128 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6037/6211016652_2009babdce.jpg" width="500" height="335" alt="resized-DSC_0128" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210505059/" title="resized-DSC_0135 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6085/6210505059_8a2841f5c2.jpg" width="500" height="335" alt="resized-DSC_0135" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6210507171/" title="resized-DSC_0140 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6085/6210507171_5e3715e65e.jpg" width="335" height="500" alt="resized-DSC_0140" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6211017390/" title="resized-DSC_0137 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6103/6211017390_2b5222d4b9.jpg" width="335" height="500" alt="resized-DSC_0137" /></a></p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6211019570/" title="resized-DSC_0141 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6034/6211019570_982301a25c.jpg" width="335" height="500" alt="resized-DSC_0141" /></a></p>

<p>回程的路上很多游客反映，乌镇没有西塘好玩。我想还是油炸臭豆腐符合大家的口味，羊肉不是所有人都吃得惯的。</p>

<p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/02/upgraded-to-gnome-3-2/">Upgraded to GNOME 3.2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-02T00:00:00+08:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ArchLinux最大的魅力就在于Rolling Release，所有的悲喜剧你都比别人早一步见证。</p>

<p>升级到GNOME 3.2后，我的gnome-settings-daemon不能正常工作，导致gtk+的主题都无效。如果没有经验你可能不太容易注意到它的真实原因。最后找到了同病相怜的人，这个问题被报告在<a href="https://bugzilla.gnome.org/show_bug.cgi?id=660664" target="_blank">这里</a>。恰好是在我发现这个问题几个小时之前。在gnome解决这个问题之前，有一个简单的workaround：
<em>sudo mv /usr/lib/gnome-settings-daemon-3.0/libcolor.so /usr/lib/gnome-settings-daemon-3.0/libcolor.so~</em></p>

<p>库加载失败后gnome-settings-daemon会自动禁用这个插件，避免出现Segmentation fault。以上的操作，at your own risk。</p>

<p>此外，gnome-shell升级到3.2以后有些api的变化，我更新了exaile豆瓣电台的gnome-shell插件，你可以顺手git pull一下。
<a href="http://www.flickr.com/photos/40741608@N08/6203348334/" title="Screenshot at 2011-10-02 17:48:51 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6162/6203348334_c71d757170.jpg" width="500" height="157" alt="Screenshot at 2011-10-02 17:48:51" /></a></p>

<p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/10/01/moving-to-archlinux/">Moving to ArchLinux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-01T00:00:00+08:00" pubdate data-updated="true">Oct 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.flickr.com/photos/40741608@N08/6198252182/" title="DSC_0004 by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6022/6198252182_656282b489.jpg" width="335" height="500" alt="DSC_0004" /></a>
这是用新入的Nikon 55-300mm的长焦镜头300端排的远处的塔吊，它与本文没有直接关系。如果实在要计算间接关系，它是我等待fedora无尽的启动时间里消磨时光的手段之一。</p>

<p>这周开始fedora彻底崩溃了，现在在默认的run-level下NetworkManager根本无法启动，次次3分钟超时。还由于不明的原因，以越来越大的概率，gdm会僵死在启动启动之前。如果切换到terminal，输入完用户名居然连password都不会prompt出来。有时甚至在runlevel3里都无法启动。本想忍下去等到下个月f16发布，但是今天晚上已经彻底无法进入系统了，算了，其实也就是挥挥刀的事情。</p>

<p>Ubuntu的回头路是走不得的，索性切换到了Arch，从此享受rolling release，不再在每年的4月10月里蠢蠢欲动惊慌失措。重装的经验和上次一样：看准分区，/home留着/干掉；在创建用户的时候看准原先用户的uid，直接用这个id创建新用户，这样$HOME自动就归属新用户了。Arch仓库里的东西甚至要比fedora还多，没有那么多洁癖，甚至Skype和IDEA的社区版都直接进了仓库。我现在年纪大了，能从仓库安装我是不会自己再去下载了。</p>

<p>其实Arch也是老朋友了，直不过以前一直把它憋在VirtualBox里，现在它从VBox里爬出来了，Ubuntu和Windows这些当年的host们被踹进去乖乖作guest了，翻身农奴这就起来把歌唱。</p>

<p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/09/24/i-cloned-beanstalkd-with-clojure/">I Cloned Beanstalkd With Clojure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-24T00:00:00+08:00" pubdate data-updated="true">Sep 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just cloned <a href="http://kr.github.com/beanstalkd/">Beanstalkd</a> with clojure and you can find this project on <a href="https://github.com/sunng87/clojalk">github</a>. It&#8217;s a light weight task queue that &#8220;producers&#8221; could put tasks in and &#8220;workers&#8221; are blocked to reserve them and process them. It will help you to split expensive operations (sending email, etc) to background.</p>

<p>The features:
<ul>
	<li>Almost compatible with Beanstalkd protocol</li>
	<li>Full support on Beanstalkd verbs: put/reserve/release/bury/kick</li>
	<li>Persistence with binary write-ahead logs</li>
	<li>Simple JMX monitoring</li></ul></p>

<p></p>

<p>The networking layer is based on @<a href="https://github.com/ztellman">ztellman</a>&#8217;s libraries, aleph, lamina and gloss. And I also received great help from him on implementing the protocol with gloss. </p>

<p>This is not my first clojure project but the largest one. I add <a href="https://github.com/fogus/marginalia">marginalia</a> in the dev-dependencies, you can generate well formatted code and docs with `lein marg`.</p>

<p>By the way, this project is not well tested. I&#8217;m still working on it to find potential issues and to fix them. Do not use it on any production environment before you have carefully gone through the code base. I just made this announcement here to let people know this project if they are interested in this topic. </p>

<p>And always, Any fork/contribution is welcomed.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/09/19/beginning-emacs-for-clojure/">Beginning Emacs for Clojure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-19T00:00:00+08:00" pubdate data-updated="true">Sep 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>没错我开始用Emacs了！对于一个使用lisp方言的开发的人来说，Emacs无疑是正统，是professional的象征。</p>

<p><a href="http://www.flickr.com/photos/40741608@N08/6162700542/" title="Screenshot--home-sun-projects-clojalk-src-clojalk-wal.clj by 贝小塔, on Flickr"><img src="http://farm7.static.flickr.com/6172/6162700542_50be6d256f.jpg" width="500" height="303" alt="Screenshot--home-sun-projects-clojalk-src-clojalk-wal.clj" /></a></p>

<p>其实用Emacs，远不需要太多的配置，就可以创建一个高效率的开发环境。我用了两天不到时间，当然还包括过去三年甚至更长时间里多次试图学习Emacs并最终半途而废残存的精力。</p>

<p>一步一步来，fedora系统的用户，比如<a href="http://superuser.com/questions/242587/install-gnu-emacs-gui-in-fedora">这位</a>，还有我，都会奇怪，命名有emacs，可是为什么没有GUI呢。因为系统自带的只是一个简单的版本，用yum安装一下emacs这个包才算是真正完整。</p>

<p>接下来要跳关了，大家注意。<a href="https://github.com/technomancy/emacs-starter-kit">Emacs-starter-kit</a>是一个帮助初学者预先配置emacs的一套默认配置文件，有了这个配置文件，也算是爬上了巨人的肩膀，省去了很多探路的时间。安装方式，把这个git仓库的master分支打包下载到~/.emacs.d/里即可（展开到这个目录）。启动emacs后，会自动安装。（作者名字很熟悉，对了，就是leiningen的作者）</p>

<p>由于package.el已经配置好了，接下来就可以安装一些必要的mode，两天的时间初探，我安装了：
<ul>
	<li>clojure-mode</li>
	<li>clojurescript-mode</li>
	<li>auto-complete</li>
	<li>color-theme-tangotango</li>
	<li>slime</li>
	<li>slime-repl</li>
</ul></p>

<p>安装方式：<br />
M-x package-install<br />
输入包名即可。</p>

<p>clojure-mode和clojurescript-mode是编辑clojure的mode，不多说。</p>

<p><h4>配色</h4>
color-theme我本来是习惯用solarized，不过尝试了几次color-theme-solarized这个包应该是有一些问题。退而选择了tangotango。要默认选择这个颜色，在init.el里加：<br />
[cc lang=&#8221;lisp&#8221;]<br />
(require &#8216;color-theme-tangotango)<br />
(color-theme-tangotango)<br />
[/cc]</p>

<p><h4>代码提示</h4>
auto-complete是代码提示和自动补全插件，安装完成后要简单配置一下才能使用：<br />
[cc lang=&#8221;lisp&#8221;]<br />
(require &#8216;auto-complete-config)<br />
(add-to-list &#8216;ac-dictionary-directories &#8220;~/.emacs.d/elpa/auto-complete-1.4.20110207/dict/&#8221;)<br />
(ac-config-default)<br />
[/cc]<br />
当然网上有更多的高级配置，可以搜一下。</p>

<p><h4>REPL</h4>
clojure的IDE必须要有repl的支持，在emacs中，repl通过slime这个mode来实现。此外还要额外安装swank：
<em>lein plugin install swank-clojure 1.3.2</em>
在项目目录通过<em>lein swank</em>启动。在emacs中：
<em>M-x slime-connect</em>
选择swank启动的host和port即可。这是一个支持tab提示的强大REPL，并且可以引用lein项目中的代码。</p>

<p>Edit/20110920<br />
其实只需要在clojure-mode中通过M-x clojure-jack-in 即可启动swank和slime。</p>

<p><h4>ParEdit</h4>
ParEdit是编辑括号的利器，Emacs-Starter-Kit已经把这个包配置好了。ParEdit不仅会自动打印括号，最强大的是还能阻止用户误删或误输入括号！有了它基本上括号的问题就轻松多了。<br />
（当然，有时候需要强制删掉括号<em>C-u DEL</em>，也可能要强制输入括号<em>C-q (</em>或<em>C-q )</em>）</p>

<p><h4>TagList</h4>
很遗憾ctags不支持clojure，而且emacs似乎也没有一个比较好的TagList。我看到有人提到imenu在一定程度上倒是可以做到类似的功能：
<em>M-x imenu<tab><tab /></tab></em></p>

<p>总得来说，捅破了窗户纸，用emacs编辑clojure还是最好的选择！
</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/blog/page/9/">&larr; Older</a>
    
    <a href="/blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/blog/page/7/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/blog/2013/07/05/grunt-for-requirejs-projects/">Grunt for Requirejs Projects</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/06/29/%E7%BB%99-raspberry-pi-%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%98%BE%E7%A4%BA-ip-%E7%9A%84%E6%B6%B2%E6%99%B6%E5%B1%8F/">给 Raspberry Pi 添加一个显示 IP 的液晶屏</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/06/07/%E7%BA%B8%E4%B8%8A%E5%BE%97%E6%9D%A5%E7%BB%88%E8%A7%89%E6%B5%85/">纸上得来终觉浅</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/04/24/checkout-ring-adapter-for-jetty-9/">Checkout Ring Adapter for Jetty 9</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2013/04/12/ann-handlebars-clojure-api/">[ANN] Handlebars Clojure API</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sunng87">@sunng87</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sunng87',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/blog/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/classicing?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/classicing">My Delicious Bookmarks &raquo;</a></p>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Sun Ning -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sunng-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
