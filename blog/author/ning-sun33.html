<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Here Comes the Sun - Ning Sun</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="https://sunng.info/blog/atom.xml" type="application/atom+xml" rel="alternate" title="Here Comes the Sun Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Here Comes the Sun </a></h1>
                <nav><ul>
                    <li><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="4">
            <li><article class="hentry">
                <header>
                    <h1><a href="/breaking-changes-in-compojure-060.html" rel="bookmark"
                           title="Permalink to Breaking changes in compojure 0.6.0">Breaking changes in compojure 0.6.0</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-02-02T00:00:00+08:00">
                Published: Wed 02 February 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ning-sun.html">Ning Sun</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <ul>
<li>手艺
tags:</li>
<li>clojure</li>
<li>compojure</li>
<li>web
published: true
comments: true</li>
</ul>
<hr />
<p><p>在compojure 0.6.0里，默认的middleware被移除了。因为还没有正式发布，所以网上几乎没有相关的文档说明，而0.5.x的例子已经没能正常工作了。</p></p>
<p>[cc lang="clojure"]<br />
;...<br />
(defroutes root<br />
    (GET "/" {params :params} (str params)))</p>

<p>(run-jetty root {:port 8080}))<br />
[/cc]</p>

<p>这样在0.5.x中可以正确运行的代码，在0.6.0中params变成了空的map。</p>

<p>在0.6.0中，compojure引入了一个新的ns叫做compojure.handler，其中包含两个function， api和site，它们包含了一些默认的middleware，适合相应的开发场景。为了让代码能够工作 ...</p>
                <a class="readmore" href="/breaking-changes-in-compojure-060.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/bao-guan-li-yu-lu-jing-guan-li.html" rel="bookmark"
                           title="Permalink to 包管理与路径管理">包管理与路径管理</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-01-22T00:00:00+08:00">
                Published: Sat 22 January 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ning-sun.html">Ning Sun</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <ul>
<li>装备
tags:</li>
<li>java</li>
<li>maven</li>
<li>nodejs</li>
<li>python</li>
<li>tools
published: true
comments: true</li>
</ul>
<hr />
<p><p>现在几乎每一种语言都有一些依赖管理工具，或者是中央的包仓库。比如这些：
<ul>
<li>Java: maven, ivy, gradle</li>
<li>Ruby: gems</li>
<li>Python: easy_install, pip</li>
<li>Clojure: leinigen</li>
<li>Groovy: maven, grape, gradle</li>
<li>Hashkell: cabal</li>
<li>PHP: pear</li>
<li>Nodejs: npm</li>
</ul></p></p>
<p>这些工具在管理包和路径时都会采用各不相同的策略，有的是通过自身实现，有的是借助语言平台本身的特点。</p>

<p><h3>Java</h3>
其中最注明的Maven，它的方式是在POM文件中定义你的依赖，Maven会在本地仓库中维护这些依赖。Maven的本地仓库默认是在$HOME/.m2/repository目录下，是用户独立的，当然要下载一个依赖也不需要root权限。而在通过Maven运行Java项目时，Maven插件会自动管理classpath ...</p>
                <a class="readmore" href="/bao-guan-li-yu-lu-jing-guan-li.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/update-on-exaile-soundmenu-indicator-and-exaile-doubanfm-plugin.html" rel="bookmark"
                           title="Permalink to Update on exaile-soundmenu-indicator and exaile-doubanfm-plugin">Update on exaile-soundmenu-indicator and exaile-doubanfm-plugin</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-01-14T00:00:00+08:00">
                Published: Fri 14 January 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ning-sun.html">Ning Sun</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <ul>
<li>ANN
tags:</li>
<li>Douban</li>
<li>exaile</li>
<li>project</li>
<li>ubuntu
published: true
comments: true</li>
</ul>
<hr />
<p><p><h3>Exaile-soundmenu-indicator</h3>
As many users complaint about the "minimise to sound menu" issue, I updated exaile-soundmenu-indicator plugin. Now it is basically compliant with specification of <a href="https://wiki.ubuntu.com/SoundMenu">SoundMenu</a>: it will keep playing if you click the close button while the player is playing ...</p></p>
                <a class="readmore" href="/update-on-exaile-soundmenu-indicator-and-exaile-doubanfm-plugin.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/html5-form-in-opera-11.html" rel="bookmark"
                           title="Permalink to HTML5 Form in Opera 11">HTML5 Form in Opera 11</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-01-12T00:00:00+08:00">
                Published: Wed 12 January 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ning-sun.html">Ning Sun</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <ul>
<li>装备
tags:</li>
<li>css</li>
<li>html</li>
<li>opera
published: true
comments: true</li>
</ul>
<hr />
<p><p>严格意义上我现在已经不能算是个web guy了，不过托Web开放的特性，咱也能评论一下。最近做个小的界面，考虑到要面向未来，HTML5又提供了丰富的表单增强。这些特性中，Firefox 3.6基本上还没有支持，Chromium 8.0有少部分支持，而真正支持比较完整的是Opera 11.</p></p>
<p><strong>autofocus</strong>
页面载入后自动将焦点转到某个input，就如以前的onload时候xxx.focus()</p>

<p><strong>required</strong>
指定某个input为必填，提交时会有validation，在Opera11里还会给你这样的警告并且禁止提交：
<a href="http://www.flickr.com/photos/40741608@N08/5349345730/" title="Screenshot - 01122011 - 10:53:41 PM by 贝小塔, on Flickr"><img src="http://farm6.static.flickr.com/5083/5349345730_f6696fd07e.jpg" width="329" height="144" alt="Screenshot - 01122011 - 10:53:41 PM" /></a></p>

<p><strong>email / url</strong>
指定某个input的特殊类型，提交时也会有对应的格式检查：
<a href="http://www.flickr.com/photos/40741608@N08/5348736441/" title="Screenshot - 01122011 - 10:54:41 PM by 贝小塔, on Flickr"><img src="http://farm6.static.flickr.com/5081/5348736441_78accc61ac.jpg" width="344" height="140" alt="Screenshot - 01122011 - 10:54:41 PM" /></a></p>

<p>这样的提示可能满足不了你的替用户着想的产品经理，但是你清楚他帮你省了多少事情。而且，在DiveInfoHtml5里提到，iphone甚至为这个input做了优化，在软件盘上把空格键变得很小（因为输入邮件地址用不着），并且提供了一个@键；这就是工程师的用户体验啊。</p>

<p><strong>placeholder</strong>
在input里显示提示文本：
<a href="http://www.flickr.com/photos/40741608@N08/5349345562/" title="Screenshot - 01122011 - 10:52:18 PM by 贝小塔, on Flickr"><img src="http://farm6.static.flickr.com/5209/5349345562_d658665b92.jpg" width="441" height="63" alt="Screenshot - 01122011 - 10:52:18 PM" /></a></p>

<p>注意到后面的红色星号了吗 ...</p>
                <a class="readmore" href="/html5-form-in-opera-11.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/soldat-gefr.html" rel="bookmark"
                           title="Permalink to soldat & gefr">soldat & gefr</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-01-08T00:00:00+08:00">
                Published: Sat 08 January 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ning-sun.html">Ning Sun</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <ul>
<li>手艺
tags:</li>
<li>gefr</li>
<li>java</li>
<li>jython</li>
<li>project</li>
<li>python</li>
<li>soldat
published: true
comments: true</li>
</ul>
<hr />
<p><p>我的这一套stack正在走向完整。上次贴了一张soldat-http的图，现在基于soldat的wsgi服务器也已经有了一个基本可以运行的实现，名字叫做gefr（我的命名出处参考<a href="http://en.wikipedia.org/wiki/Rank_insignia_of_the_German_armed_forces">这里</a>）。现在gefr上已经可以跑基于bottle框架的wsgi程序了，也就是说一些基于python的web应用可能可以通过jython来运行在soldat上。为了搞定jython的环境，这几天我还花了不少时间做了jip帮我从maven仓库里自动下载依赖的jar包。</p></p>
<p>soldat和gefr的代码都放在我的bitbucket上：
<ul>
<li>soldat <a href="https://bitbucket.org/sunng/soldat">https://bitbucket.org/sunng/soldat</a></li>
<li>gefr <a href="https://bitbucket.org/sunng/gefr">https://bitbucket.org/sunng/gefr</a></li>
</ul></p>

<p>此外，这两个项目也分别发布到了<a href="https://oss.sonatype.org/content/repositories/snapshots/">sonatype oss仓库</a>和<a href="http://pypi.python.org/pypi/gefr">python cheese shop</a>。</p>

<p>现在还有几个问题：
<ul>
<li>soldat在读buffer的时候先获得buffer的limit，再去读相应长度的buffer有时会出现BufferUnderflowException。这个可能存在线程安全问题，现在还没发现。</li>
<li>gefr启动之后可以通过在jvisualvm里找到这个进程，但是绑定profiler之后很诡异的是gefr就不再处理请求了 ...</li></ul></p>
                <a class="readmore" href="/soldat-gefr.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="/author/ning-sun32.html">&laquo;</a>
    Page 33 / 77
        <a href="/author/ning-sun34.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://sunng.info/blog/atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/sunng87">Github</a></li>
                            <li><a href="https://twitter.com/sunng">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>